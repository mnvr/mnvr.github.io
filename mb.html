<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<title>Mandlebrot sets without the math | mnvr.in</title>
<meta name="description" content="My (obligatory) take on these mystical marvels">
<link href="paper.css" rel="stylesheet">

<style>
:root {
  --accent: tomato;
}
</style>

</head>

<body>

<h3>Mandelbrot sets without the math</h3>

<p>
Mandelbrot sets are complex numbers <math><mi>c</mi></math> which don't diverge
when iterated as
<math><mi>z</mi><mo>&rarr;</mo><msup><mi>z</mi><mn>2</mn></msup><mo>+</mo><mi>c</mi></math>
starting from <math><mi>z</mi><mo>=</mo><mn>0</mn></math>.
</p>

<p>
<em>Wait, you said no math?</em>
</p>

<p>
That's all, and you don't need to understand it. Forget I said the above. Take a
2D plane, each point has an <code>x</code> and <code>y</code> coordinate,
right?
</p>

<p>
Okay, so for each pixel <code>x, y</code> we start a loop with <code>i, j</code>
as <code>0, 0</code> and keep applying the following function
</p>

<pre><code>
function step([i, j], [x, y]) {
  return [i * i - j * j + x, 2 * i * j + y]
}
</code>
</pre>

<p>
At each step, we'll get a new <code>i, j</code>. If these <code>i, j</code>
don't grow beyond <code>2, 2</code>, then <code>x, y</code> is part of the
Mandlebrot set, and we plot it. That's it.
</p>

<style>
.container {
  margin-block: 3em;
  margin-inline: var(--main-margin);
  display: flex;
  gap: 1px;
  flex-wrap: wrap;
  --cw: 2px;
  width: calc((200 * (var(--cw) + 1px)) - 1px);
  div {
    flex: 0 0 var(--cw);
    aspect-ratio: 1;
    background-color: color(from var(--accent) srgb r g b / 0.2);
  }
  div.on {
    background-color: var(--accent);
  }
}

@media (width < 700px) {
  .container {
    margin-inline: auto;
  }
}

@media (width < 600px) {
  .container {
    --cw: 1px;
  }
}
</style>

<script type="module">
import { mbExit, rescale } from "./mbrot.js";

const div = document.querySelector(".container");
for (let y = 0; y < 200; y++) {
  if (y < 68) continue;
  for (let x = 0; x < 200; x++) {
    const child = document.createElement("div");
    const cx = rescale(x, [0, 200], [-2, 1]);
    const cy = rescale(y, [0, 200], [-2, 1]);
    if (mbExit([cx, cy])) {
      child.className = "on";
    }
    div.appendChild(child);
  }
}
</script>

<div class="container"></div>

<footer>
Manav Rathi
<time>April 2025</time>
<div><a href="/">mnvr.in</a></div>
</footer>

</body>
</html>
