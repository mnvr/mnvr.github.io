<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">

  <title>Untitled Sketch | mnvr.in</title>
  <meta name="description" content="Sketches by Manav">
  <link rel="alternate" type="application/rss+xml" href="rss.xml">

  <style>
    :root {
      color-scheme: light dark;
    }

    body {
      font-family: system-ui, sans-serif;
      margin: 0;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    * {
      box-sizing: border-box;
    }

    canvas {
      border: 5px solid tomato;
      width: 100vw;
      min-height: 80vh;
    }
  </style>

  <script type="module">
    const fragmentSource = `
    void main() {
      gl_FragColor = vec4(gl_FragCoord.xy, 0.7, 1.0);
    }
    `

    const canvas = document.querySelector('canvas')
    const width = canvas.clientWidth
    const height = canvas.clientHeight
    const dpr = window.devicePixelRatio
    document.querySelector("output").textContent = `${width} ${height} ${dpr}`

    const gl = canvas.getContext("webgl")

    const vs = gl.createShader(gl.VERTEX_SHADER)
    gl.shaderSource(vs, `
    void main() {
      gl_Position = vec4(0., 0., 0., 1.);
      gl_PointSize = 100.;
    }
    `)
    gl.compileShader(vs)

    const fs = gl.createShader(gl.FRAGMENT_SHADER)
    gl.shaderSource(fs, fragmentSource)
    gl.compileShader(fs)

    const p = gl.createProgram()
    gl.attachShader(p, vs)
    gl.attachShader(p, fs)
    gl.linkProgram(p)

    const log = gl.getProgramInfoLog(p)
    if (log) console.error(log)

    gl.useProgram(p)

    gl.drawArrays(gl.POINTS, 0, 1)
  </script>

</head>

<body>
  <output></output>

  <canvas></canvas>



</body>

</html>