<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<title>Linear transforms | mnvr.in</title>
<meta name="description" content="An interactive visualization of linear transforms">

<style>
:root {
  color-scheme: light dark;
}
body {
  margin: 0;
}
canvas {
  width: 100%;
  height: 100vh;
}
</style>

<script type="module">
const canvas = document.querySelector("canvas");
const ctx = canvas.getContext("2d");

// CSS size. Drawing commands will use CSS pixels.
const width = canvas.clientWidth;
const height = canvas.clientHeight;

// Scale the canvas buffer to account for DPR.
const dpr = Math.floor(Math.min(devicePixelRatio, 2));
canvas.width = width * dpr;
canvas.height = height * dpr;
ctx.scale(dpr, dpr);

ctx.translate(width / 2, height / 2);

const spacing = 50;
const margin = -10;
const halfWidth = width / 2 - margin;
const halfHeight = height / 2 - margin;

function drawGrid() {
  ctx.strokeStyle = '#ddd';
  ctx.lineWidth = 1;

  // Vertical lines from center outward
  for (let x = 0; x <= halfWidth; x += spacing) {
    ctx.beginPath();
    ctx.moveTo(x, -halfHeight);
    ctx.lineTo(x, halfHeight);
    ctx.stroke();

    if (x != 0) {
      ctx.beginPath();
      ctx.moveTo(-x, -halfHeight);
      ctx.lineTo(-x, halfHeight);
      ctx.stroke();
    }
  }

  for (let y = 0; y <= halfHeight; y += spacing) {
    ctx.beginPath();
    ctx.moveTo(-halfWidth, y);
    ctx.lineTo(halfWidth, y);
    ctx.stroke();

    if (y != 0) {
      ctx.beginPath();
      ctx.moveTo(-halfWidth, -y);
      ctx.lineTo(halfWidth, -y);
      ctx.stroke();
    }
  }
}

function drawAxes() {
  ctx.lineWidth = 2;

  ctx.strokeStyle = '#e74c3c';
  ctx.beginPath();
  ctx.moveTo(-halfWidth, 0);
  ctx.lineTo(halfWidth, 0);
  ctx.stroke();

  ctx.strokeStyle = '#3498db';
  ctx.beginPath();
  ctx.moveTo(0, -halfHeight);
  ctx.lineTo(0, halfHeight);
  ctx.stroke();
}

drawGrid();
drawAxes();
</script>

</head>

<body>

<canvas></canvas>

</body>
</html>
